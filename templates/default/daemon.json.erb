{
    <% if not node['hops']['gpu'].eql?("true") %>
    "default-runtime": "docker-runc",
    "runtimes": {
        "docker-runc": {
            "path": "/usr/libexec/docker/docker-runc-current"
        }
    },
    <% end -%>
    <% if node['hops']['gpu'].eql?("true") %>
    "default-runtime": "nvidia",
    "runtimes": {
        "nvidia": {
            "path": "nvidia-container-runtime",
	    "runtimeArgs": []
        }
    },
    <% end -%>
    "graph": "<%= node['hops']['docker_dir'] %>",
    "exec-opts": ["native.cgroupdriver=<%= node['hops']['cgroup-driver'] %>"],
    "log-driver": "json-file",
    "log-opts": {
      "max-size": "100m"
    },
    "storage-driver":  "overlay2",
    "storage-opts": [
      "<%= @storage_opts %>"
    ]
}
